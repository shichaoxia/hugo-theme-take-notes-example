+++
title = 'Way To Build This Site'
date = 2022-11-17T15:40:00+08:00
lastmod = 2022-11-17T15:40:00+08:00
+++

# Way To Build This Site

## Use Tailwind CSS with Hugo

It is a good choice to build a modern website using the relatively few methods and attributes offered by Tailwind CSS.

### Install Tailwind CSS inside theme directory

Tailwind CSS can be installed **inside the theme directory** by following
the [tutorial](https://tailwindcss.com/docs/installation).

In step 3, `src/input.css` should be `assets/main.css`.

Then generate the css file with the following command.

```console
npx tailwindcss -i ./assets/main.css -o ./assets/style.css --watch
```

### Include the CSS file

Use the css file generated by tailwind in the head partial.

```html
<head>
    {{ $style := resources.Get "style.css" }}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}">
</head>
```

> `resources.Get` see [Find Resources in /assets](https://gohugo.io/hugo-pipes/introduction/).

### Install plugin

The final step is to [install the typography plugin](https://tailwindcss.com/docs/typography-plugin) so that we can
easily format the document.

## AsciiDoc

Markdown is not very expressive, AsciiDoc is a good complement. [Asciidoctor](https://asciidoctor.org/)
 is a fast text processor & publishing toolchain for AsciiDoc.

### Enable execution privilege

```toml
[security.exec]
allow = ['^dart-sass-embedded$', '^go$', '^npx$', '^postcss$', '^asciidoctor$']
```

### Diagram in Asciidoc

```console
gem install asciidoctor-diagram
```

```toml
[markup.asciidocExt]
extensions = ['asciidoctor-diagram']
workingFolderCurrent = true
```

### Math

AsciiDoctor's native STEM support requires MathJax, so it's better to just use the faster Katex.

[Add Katex](https://katex.org/docs/browser.html) script and css to HTML head.

Pass through LaTeX express in asciidoc:

```text
++++
\[
\log_3 12y
\]
++++

April seriously wondered about +\(\sim ABC+1\)+ her sleeping partner choices.
```

#### Way to use AsciiDoctor native STEM

1. [Add MathJax scripts](https://docs.mathjax.org/en/v2.7-latest/start.html) to the head
2. Enable in config
   ```toml
   [markup.asciidocExt.attributes]
   stem = 'latexmath'
   ```

### Source highlight

Using AsciiDoctor's native code highlighting requires an additional Javascript library, so I chose to use Hugo's directly.

Highlighting of Hugo also requires pass through in Asciidoc.

#### Way to use AsciiDoctor native source highlight

1. [Add highlight.js](https://highlightjs.org/usage/) to the head

## Reference

* [How to add Tailwind CSS 3 to a Hugo website in 2022?](https://www.unsungnovelty.org/posts/03/2022/how-to-add-tailwind-css-3-to-a-hugo-website-in-2022/)
